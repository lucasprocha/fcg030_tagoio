(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{29:function(e,t,n){},38:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){"use strict";n.r(t);var a=n(1),i=n.n(a),c=n(31),r=n.n(c),s=n(10),o=n(2),l=(n(38),n(12)),d=n(11),j=n(4),x=n.n(j),p=n(13),u=n.n(p),b=(n(29),n(0)),O=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(""),r=Object(d.a)(c,2),o=r[0],j=r[1],p=Object(a.useState)(""),O=Object(d.a)(p,2),f=O[0],h=O[1],v=Object(a.useState)(""),g=Object(d.a)(v,2),m=g[0],y=g[1],w=Object(a.useState)(""),k=Object(d.a)(w,2),T=k[0],C=k[1],L=Object(a.useState)(""),A=Object(d.a)(L,2),S=A[0],N=A[1];Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/ip");case 2:t=e.sent,(n=t.data).localIp&&i(n.localIp);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e(),setInterval(Object(l.a)(x.a.mark((function e(){var t,n,a,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/flow");case 2:return t=e.sent,((n=t.data).flow1||n.flow2)&&(j(n.flow1),h(n.flow2)),e.next=7,u.a.get("/inputs");case 7:a=e.sent,(i=a.data)&&(y(i.input),C(i.ANA_IN_4),N(i.ANA_IN_5));case 10:case"end":return e.stop()}}),e)}))),3e3)}),[]);return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{class:"header",children:[Object(b.jsx)(s.b,{to:"/",class:"link",style:{fontWeight:"bold"},children:"ESP32 Controle de fluxo"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(s.b,{to:"/config",class:"link",children:"Configura\xe7\xf5es"}),Object(b.jsx)(s.b,{to:"/logout",class:"link",children:"Sair"})]})]}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px",marginBottom:"10px"},children:Object(b.jsxs)("div",{class:"body",children:[Object(b.jsx)("div",{children:"Para acesso via celular, acesse:"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{disabled:!0,value:n,style:{marginTop:"5px",padding:"5px 20px",textAlign:"center"}})}),Object(b.jsx)("div",{style:{marginTop:"10px",marginBottom:"10px",width:"70vw",color:"#0000aa",borderTopStyle:"solid",borderWidth:"2px"}}),Object(b.jsxs)("div",{children:["Fluxo 1 instant\xe2neo:",Object(b.jsx)("input",{disabled:!0,value:o,style:{marginTop:"5px",padding:"5px 20px",marginLeft:"5px",width:"100px"}}),"L/min"]}),Object(b.jsxs)("div",{children:["Fluxo 2 instant\xe2neo:",Object(b.jsx)("input",{disabled:!0,value:f,style:{marginTop:"5px",padding:"5px 20px",marginLeft:"5px",width:"100px"}}),"L/min"]}),Object(b.jsx)("div",{style:{marginTop:"12px"},children:[0,1,2,3,4,5,6,7].map((function(e){return Object(b.jsxs)("div",{children:["DIGI_IN_",e,":",Object(b.jsx)("input",{disabled:!0,value:(m>>e)%2,style:{marginTop:"5px",padding:"5px 20px",marginLeft:"5px",width:"20px"}})]})}))}),Object(b.jsxs)("div",{style:{marginTop:"12px"},children:["ANA_IN_4:",Object(b.jsx)("input",{disabled:!0,value:(3.3*T/4096).toFixed(2),style:{marginTop:"5px",padding:"5px 20px",marginLeft:"5px",width:"50px"}}),"V"]}),Object(b.jsxs)("div",{children:["ANA_IN_5:",Object(b.jsx)("input",{disabled:!0,value:(3.3*S/4096).toFixed(2),style:{marginTop:"5px",padding:"5px 20px",marginLeft:"5px",width:"50px"}}),"V"]})]})}),Object(b.jsx)("div",{class:"footer"})]})},f=n(9),h=n(16),v=(n(65),function(e){var t=e.configs,n=e.setConfigs,a=function(e){var t=e.target.value,a=e.target.name;n((function(e){return Object(f.a)(Object(f.a)({},e),{},Object(h.a)({},a,t))}))};return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{children:["Broker server:",Object(b.jsx)("input",{onChange:a,name:"broker",value:t.broker,style:{marginLeft:"4px",width:"200px"}})]}),Object(b.jsxs)("div",{children:["Broker server Porta:",Object(b.jsx)("input",{onChange:a,name:"port",value:t.port,style:{marginLeft:"4px",width:"150px"}})]}),Object(b.jsxs)("div",{children:["Device Token:",Object(b.jsx)("input",{onChange:a,name:"token",value:t.token,style:{marginLeft:"4px",width:"200px"}})]}),Object(b.jsxs)("div",{style:{marginTop:"15px"},children:["Lista de TAGs URL:",Object(b.jsx)("input",{onChange:a,name:"tags",value:t.tags,style:{marginLeft:"4px",width:"260px"}})]}),Object(b.jsxs)("div",{style:{marginTop:"15px"},children:["Latitude:",Object(b.jsx)("input",{onChange:a,name:"lat",value:t.lat,style:{marginLeft:"18px",width:"100px"}})]}),Object(b.jsxs)("div",{children:["Longitude:",Object(b.jsx)("input",{onChange:a,name:"long",value:t.long,style:{marginLeft:"4px",width:"100px"}})]}),Object(b.jsxs)("div",{style:{marginTop:"15px"},children:["Serial do produto:",Object(b.jsx)("input",{onChange:a,name:"serial",value:t.serial,style:{marginLeft:"20px",width:"250px"}})]}),Object(b.jsxs)("div",{children:["Modelo do produto:",Object(b.jsx)("input",{onChange:a,name:"model",value:t.model,style:{marginLeft:"4px",width:"250px"}})]}),Object(b.jsxs)("div",{style:{marginTop:"15px"},children:["Fator de calibra\xe7\xe3o fluxo 1:",Object(b.jsx)("input",{onChange:a,name:"calibration",value:t.calibration,style:{marginLeft:"4px",width:"200px"}})]}),Object(b.jsxs)("div",{children:["Fator de calibra\xe7\xe3o fluxo 2:",Object(b.jsx)("input",{onChange:a,name:"calibration2",value:t.calibration2,style:{marginLeft:"4px",width:"200px"}})]}),Object(b.jsxs)("div",{children:["Fator de calibra\xe7\xe3o ANA 4:",Object(b.jsx)("input",{onChange:a,name:"calibrationAna4",value:t.calibrationAna4,style:{marginLeft:"4px",width:"200px"}})]}),Object(b.jsxs)("div",{children:["Fator de calibra\xe7\xe3o ANA 5:",Object(b.jsx)("input",{onChange:a,name:"calibrationAna5",value:t.calibrationAna5,style:{marginLeft:"4px",width:"200px"}})]}),Object(b.jsxs)("div",{style:{marginTop:"15px"},children:["Utilizar o RFID:",Object(b.jsx)("input",{type:"checkbox",onClick:function(){return n((function(e){return Object(f.a)(Object(f.a)({},e),{},{useRfid:!t.useRfid})}))},name:"useRfid",checked:t.useRfid})]}),Object(b.jsxs)("div",{style:{marginTop:"15px"},children:["Sensor de fluxo 1:",Object(b.jsx)("input",{type:"checkbox",onClick:function(){return n((function(e){return Object(f.a)(Object(f.a)({},e),{},{flow1:!t.flow1})}))},name:"flow1",checked:t.flow1})]}),Object(b.jsxs)("div",{children:["Sensor de fluxo 2:",Object(b.jsx)("input",{type:"checkbox",onClick:function(){return n((function(e){return Object(f.a)(Object(f.a)({},e),{},{flow2:!t.flow2})}))},name:"flow2",checked:t.flow2})]})]})}),g={broker:"",token:"",port:"",lat:"",long:"",serial:"",model:"",tags:"",calibration:"",calibration2:"",calibrationAna4:"",calibrationAna5:"",useRfid:!0,flow1:!1,flow2:!1},m=function(){var e=Object(a.useState)(""),t=Object(d.a)(e,2),n=t[0],i=t[1],c=Object(a.useState)(g),r=Object(d.a)(c,2),o=r[0],j=r[1];Object(a.useEffect)((function(){var e=function(){var e=Object(l.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/ip");case 2:t=e.sent,(n=t.data).localIp&&i(n.localIp);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e();var t=function(){var e=Object(l.a)(x.a.mark((function e(){var t,n;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,u.a.get("/config/config");case 2:t=e.sent,n=t.data,j(Object(f.a)(Object(f.a)({},n),{},{useRfid:"true"===n.useRfid}));case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();t()}),[]);var p=function(){var e=Object(l.a)(x.a.mark((function e(){var t;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!isNaN(Number(o.lat))&&!isNaN(Number(o.long))){e.next=3;break}return alert("Formato de latitude ou longitude inv\xe1lido! Utilize apenas n\xfameros."),e.abrupt("return");case 3:return t=JSON.stringify(o),e.next=6,u.a.post("/config/config",t,{headers:{"Content-Type":"application/x-www-form-urlencoded"}});case 6:e.sent,alert("Configura\xe7\xf5es salvas com sucesso!");case 8:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{class:"header",children:[Object(b.jsx)(s.b,{to:"/",class:"link",style:{fontWeight:"bold"},children:"ESP32 Controle de fluxo"}),Object(b.jsxs)("div",{children:[Object(b.jsx)(s.b,{to:"/",class:"link",children:"Home"}),Object(b.jsx)(s.b,{to:"/logout",class:"link",children:"Sair"})]})]}),Object(b.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"10px",marginBottom:"10px"},children:Object(b.jsxs)("div",{class:"body",children:[Object(b.jsx)("div",{children:"Para acesso via celular, acesse:"}),Object(b.jsx)("div",{children:Object(b.jsx)("input",{disabled:!0,value:n,style:{marginTop:"5px",padding:"5px 20px",textAlign:"center"}})}),Object(b.jsx)("div",{style:{marginTop:"10px",marginBottom:"10px",width:"70vw",color:"#0000aa",borderTopStyle:"solid",borderWidth:"2px"}}),Object(b.jsx)("div",{style:{maxHeight:"60vh",overflowY:"scroll"},children:Object(b.jsx)(v,{configs:o,setConfigs:j})}),Object(b.jsx)("div",{style:{marginTop:"10px",marginBottom:"10px",width:"70vw",color:"#0000aa",borderTopStyle:"solid",borderWidth:"2px"}}),Object(b.jsx)("div",{children:Object(b.jsx)("button",{class:"button button3",onClick:p,children:"Salvar"})})]})}),Object(b.jsx)("div",{class:"footer"})]})};r.a.render(Object(b.jsx)(i.a.StrictMode,{children:Object(b.jsxs)(s.a,{children:[Object(b.jsx)(o.a,{exact:!0,path:"/",children:Object(b.jsx)(O,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/config",children:Object(b.jsx)(m,{})}),Object(b.jsx)(o.a,{exact:!0,path:"/logout"})]})}),document.getElementById("root"))}},[[66,1,2]]]);
//# sourceMappingURL=main.980bb2a6.chunk.js.map